<div class="page-header"><h1>Libraries' Software List</h1></div>

<div class="row">
    <div class="col-md-3 col-md-push-9">
        <form>
            <div class="form-group">
                <input type="text" class="form-control" ng-model="soft.search" placeholder="Search software, locations, etc..." ng-change="update()">
            </div>
            <div class="form-group">
                <div class="btn-group btn-group-justified">
                    <label class="btn btn-default active" ng-model="soft.os" btn-radio="''" ng-change="update()" uncheckable>All</label>
                    <label class="btn btn-default" ng-model="soft.os" btn-radio="'1'" ng-change="update()" uncheckable><span class="fa fa-fw fa-windows"></span></label>
                    <label class="btn btn-default" ng-model="soft.os" btn-radio="'2'" ng-change="update()" uncheckable><span class="fa fa-fw fa-apple"></span></label>
                    <label class="btn btn-default" ng-model="soft.os" btn-radio="'3'" ng-change="update()" uncheckable><span class="fa fa-fw fa-linux"></span></label>
                </div>
            </div>
            <div class="form-group hidden-xs">
                <h5>Locations</h5>
                <div class="radio">
                    <label>
                        <input type="radio" value="" ng-model="soft.loc" ng-change="update()" checked>
                        All Locations
                    </label>
                </div>
                <div class="radio" ng-repeat="loc in software.locations">
                    <label>
                        <input type="radio" value="{{loc.name}}" ng-model="soft.loc" ng-change="update()">
                        {{loc.name}}
                    </label>
                </div>
            </div>
            <div class="form-group hidden-xs">
                <h5>Categories</h5>
                <div class="radio">
                    <label>
                        <input type="radio" value="" ng-model="soft.cat" ng-change="update()">
                        All categories
                    </label>
                </div>
                <div class="radio" ng-repeat="cat in software.categories">
                    <label>
                        <input type="radio" value="{{cat.name}}" ng-model="soft.cat" ng-change="update()">
                        {{cat.name}}
                    </label>
                </div>
            </div>
        </form>
    </div>
    <div class="col-md-9 col-md-pull-3 software-list-container">
        <div class="text-center">
            <pagination total-items="filteredSoft.length" ng-model="soft.page" max-size="10" class="pagination-sm" boundary-links="true" items-per-page="soft.perPage" ng-change="update()" ng-if="filteredSoft.length > soft.perPage"></pagination>
        </div>

        <div class="media" ng-repeat="item in filteredSoft = (software.software | filter:soft.cat | filter:soft.loc | filter:soft.search | filterBy:['os']:soft.os)">
            <div class="media-left">
                <img class="media-object" ng-src="{{item.icon}}" alt="{{item.title}}" title="{{item.title}}">
            </div>
            <div class="media-body">
                <h4 class="media-heading">
                    {{item.title}}
                    <small ng-repeat="ver in item.versions" class="software-versions"><span class="fa fa-{{ver.osName}} text-muted"></span> {{ver.version}}</small>
                </h4>

                <div class="details-context">
                    <span ng-repeat="loc in item.locations">{{loc.name}}</span>
                </div>
                <div>
                    {{item.description}}
                </div>
                <div class="details hidden-xs">
                    <div class="software-links pull-left">
                        <h5>Tutorials &amp; Guides</h5>
                        <ul>
                            <li ng-repeat="link in item.links">
                                <a ng-href="{{link.url}}">{{link.title}}</a>
                            </li>
                        </ul>
                    </div>
                    <div class="pull-left">
                        <h5>Who can use it</h5>
                        <span ng-bind-html="item.details"></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center">
            <pagination total-items="filteredSoft.length" ng-model="soft.page" max-size="10" class="pagination-sm" boundary-links="true" items-per-page="soft.perPage" ng-change="update()" ng-if="filteredSoft.length > soft.perPage"></pagination>
        </div>
    </div>
</div>